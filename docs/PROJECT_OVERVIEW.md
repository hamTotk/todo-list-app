# TODOリストアプリ - プロジェクト概要

## プロジェクト情報

- **プロジェクト名**: TODOリストアプリ
- **バージョン**: 1.0.0
- **技術スタック**: バニラJavaScript (ES6+), HTML5, CSS3
- **データ永続化**: LocalStorage（将来的にバックエンド拡張可能）

## プロジェクトの目的

ブラウザで動作する、高機能で使いやすいTODOリスト管理アプリケーション。
個人のタスク管理を効率化し、サブタスクや繰り返しタスクなどの高度な機能を提供する。

## 主要機能

### 基本機能
- ✅ TODOの追加、編集、削除
- ✅ 完了/未完了の切り替え
- ✅ カテゴリ（1つ選択）による分類
- ✅ タグ（複数選択）による柔軟な分類
- ✅ 優先度設定（高/中/低）
- ✅ 期限設定と視覚的な期限アラート

### 高度な機能
- 🔄 **繰り返しタスク**
  - 毎日、毎週、毎月の定期実行
  - カスタム間隔（n日/週/月ごと）
  - 曜日指定（例: 毎週月・水・金）
  - 終了条件（回数または日付）
  - 完了時の挙動をタスクごとに設定可能

- 📋 **サブタスク**
  - 無制限の階層構造（親→子→孫...）
  - 階層的なタスク管理
  - 親タスク完了時の警告機能
  - 進捗の可視化

### UI/UX機能
- 🌓 ダークモード対応
- 📱 レスポンシブデザイン
- ⌨️ キーボードショートカット
- 🎨 優先度・期限による色分け表示
- 📊 統計情報の表示

## アーキテクチャ

### ディレクトリ構成

```
todo-list-app/
├── index.html              # メインHTMLファイル
├── css/
│   ├── styles.css         # メインスタイルシート
│   └── themes.css         # ダークモード対応
├── js/
│   ├── app.js            # アプリケーションエントリーポイント
│   ├── storage.js        # LocalStorage抽象化レイヤー
│   ├── todo.js           # TODOデータモデルとビジネスロジック
│   └── ui.js             # DOM操作とイベント処理
├── docs/
│   ├── PROJECT_OVERVIEW.md          # このファイル
│   ├── DATA_MODEL.md                # データモデル定義
│   ├── API_REFERENCE.md             # API リファレンス
│   └── IMPLEMENTATION_CHECKLIST.md  # 実装チェックリスト
└── README.md              # ユーザー向けドキュメント
```

### モジュール設計

#### 1. storage.js - データ永続化層
**責務**: LocalStorageの操作を抽象化し、将来的なバックエンド移行を容易にする

- データの読み込み・保存・削除
- 将来的にREST APIに置き換え可能な設計
- エラーハンドリング

#### 2. todo.js - ビジネスロジック層
**責務**: TODOデータの管理とビジネスロジック

- CRUD操作（Create, Read, Update, Delete）
- フィルタリング・ソート機能
- バリデーション
- 期限チェック
- サブタスク管理（階層構造、循環参照防止）
- 繰り返しタスク管理（日付計算、自動生成）

#### 3. ui.js - プレゼンテーション層
**責務**: UIの描画とユーザーインタラクション

- DOM要素の参照管理
- イベントリスナーの設定
- TODOリストのレンダリング
- フォームの状態管理
- モーダルの開閉処理
- フィルター/ソートUIの更新

#### 4. app.js - アプリケーション統合層
**責務**: 各モジュールの連携とアプリケーション初期化

- アプリケーション起動処理
- モジュール間の連携
- グローバルな状態管理
- テーマ設定の管理

## データフロー

```
ユーザー操作 (UI)
    ↓
ui.js (イベントハンドラー)
    ↓
todo.js (ビジネスロジック)
    ↓
storage.js (データ永続化)
    ↓
LocalStorage

読み込み時は逆の流れ:
LocalStorage → storage.js → todo.js → ui.js → 画面表示
```

## 設計原則

### 1. 責任の分離
各モジュールは単一の責任を持ち、他のモジュールと疎結合に設計

### 2. 将来的な拡張性
- storage.jsの抽象化により、バックエンドAPIへの移行が容易
- データモデルは拡張可能な設計

### 3. パフォーマンス
- 効率的なDOM更新
- サブタスクの遅延レンダリング
- デバウンスを使った最適化

### 4. アクセシビリティ
- セマンティックHTML
- ARIA属性の適切な使用
- キーボード操作対応
- スクリーンリーダー対応

### 5. セキュリティ
- XSS対策（textContent/createElement使用）
- 入力値のサニタイズ

## 開発フェーズ

1. **フェーズ0**: ドキュメント作成（実装前準備）
2. **フェーズ1**: 基本構造とUI
3. **フェーズ2**: データ層の実装
4. **フェーズ3**: UI層の実装
5. **フェーズ4**: コア機能の実装
6. **フェーズ5**: ダークモード実装
7. **フェーズ6**: サブタスク機能
8. **フェーズ7**: 繰り返しタスク機能
9. **フェーズ8**: UX改善
10. **フェーズ9**: 仕上げ

## ブラウザサポート

- Chrome (最新版)
- Firefox (最新版)
- Safari (最新版)
- Edge (最新版)

## 今後の拡張予定

- [ ] バックエンドAPI対応
- [ ] ユーザー認証機能
- [ ] クラウド同期
- [ ] デスクトップ通知
- [ ] データのエクスポート/インポート
- [ ] コラボレーション機能
